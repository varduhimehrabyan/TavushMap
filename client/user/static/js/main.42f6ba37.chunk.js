(this.webpackJsonptavush=this.webpackJsonptavush||[]).push([[0],{20:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/arm.d460b6bc.svg"},21:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/eng.e9f9b01a.svg"},46:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/remove.a0b2776d.svg"},47:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/time.ad94d08b.svg"},48:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/community.437da382.svg"},49:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/budget.884be489.svg"},5:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/arrow.a705be43.svg"},50:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/sphere.c8b29079.svg"},51:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/organization.29d1173b.svg"},52:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/head name.3e813644.svg"},53:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/contact.bf5917a2.svg"},54:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/ongoing.b55f131f.svg"},55:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/description.ad5ee0b2.svg"},6:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c(1),a=c(11),i=c.n(a),r=c(22),u=c(7),o=c(23),l=c.n(o),d=c(0);var j=function(e){var t=e.data,a=e.setOpensidebar,i=Object(n.useState)(null),r=Object(s.a)(i,2),u=r[0],o=r[1];return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"infoSidebar",children:Object(d.jsxs)("div",{className:"info_sidebar_container",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{className:"org_icon",onClick:function(){a(!1)},src:c(46).default})}),Object(d.jsx)("div",{style:{marginTop:"40px"},children:t.length>0?t.map((function(e,t){return Object(d.jsx)("div",{className:"info_detail",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{cursor:"pointer",fontSize:"18px",fontWeight:"500",display:"flex",flexWrap:"wrap",padding:"10px 0px 10px 24px",color:"#808A8A"},onClick:function(t){var c;c=e.id,o(c)},children:[Object(d.jsx)("div",{style:{width:"164px"},children:e.name}),Object(d.jsx)("img",{className:"arrow_select",src:c(5).default})]}),u===e.id?Object(d.jsx)("div",{className:"supports_types",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(47).default}),Object(d.jsxs)("p",{className:"paragraph",children:[e.start_date,"-",e.end_date]})]}),Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(48).default}),Object(d.jsx)("p",{className:"paragraph",children:e.community})]}),Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(49).default}),Object(d.jsx)("p",{className:"paragraph",children:e.budget})]}),e.category_support.map((function(e,t){return Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(50).default}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"paragraph",children:[" ",e.category," "]}),Object(d.jsx)("p",{className:"paragraph",children:e.support})]})]},t)})),e.organization.map((function(e,t){return Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(51).default}),Object(d.jsx)("p",{className:"paragraph",children:e})]},t)})),Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(52).default}),Object(d.jsx)("p",{className:"paragraph",children:e.manager})]}),Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(53).default}),Object(d.jsx)("p",{className:"paragraph",children:e.contactPerson})]}),Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(54).default}),Object(d.jsx)("p",{className:"paragraph",children:e.status})]}),Object(d.jsxs)("div",{className:"info_row",children:[Object(d.jsx)("img",{className:"det_icon",src:c(55).default}),Object(d.jsx)("p",{className:"paragraph",children:e.description})]})]})}):null]},t)},e.id)})):null})]})})})};var b=function(e){var t=e.mappointid,c=e.setOpensidebar,a=e.selectedLanguage,i=e.selectedStatuses,r=e.selectedSupports,u=e.selectedOrganizations,o=Object(n.useState)([]),b=Object(s.a)(o,2),f=b[0],O=b[1],p=Object(n.useState)(a),m=Object(s.a)(p,2),g=m[0],h=(m[1],Object(n.useState)(i)),x=Object(s.a)(h,2),v=x[0],S=(x[1],Object(n.useState)(r)),N=Object(s.a)(S,2),y=N[0],C=(N[1],Object(n.useState)(u)),k=Object(s.a)(C,2),_=k[0];return k[1],Object(n.useEffect)((function(){O([]),l.a.post("/api/programListForFilterEng",{mappointid:t,language:g,statusid:v,supportid:y,organizationid:_}).then((function(e){O(e.data.data)})).catch((function(e){console.log("error")}))}),[t]),Object(d.jsx)(j,{data:f,mappointid:t,setOpensidebar:c})};var f=function(e){var t=e.coordinates,c=e.selectedLanguage,a=e.selectedStatuses,o=e.selectedSupports,l=e.selectedOrganizations,j=Object(n.useState)(null),f=Object(s.a)(j,2),O=f[0],p=f[1],m=Object(n.useState)(null),g=Object(s.a)(m,2),h=(g[0],g[1]),x=Object(n.useState)(""),v=Object(s.a)(x,2),S=v[0],N=v[1],y=Object(n.useState)(!1),C=Object(s.a)(y,2),k=C[0],_=C[1],L=function(e){return function(){h(e),_(!0),N(e.mappointId)}};function z(){return(z=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){z.apply(this,arguments)}()}),[]);var w={preset:"islands#blueCircleIcon",iconColor:"#05558F"};return Object(d.jsxs)("div",{className:"maps",children:[Object(d.jsx)(u.d,{query:{lang:"ru_RU",load:"package.full"},children:Object(d.jsx)(u.b,{className:"map",defaultState:{center:[40.987595,45.15185],zoom:9},onLoad:function(e){return p({ymaps:e})},children:Object(d.jsx)(u.a,{children:O&&t.map((function(e,t){return Object(d.jsx)(u.c,{options:w,properties:(c=e.programCount,{iconContent:"<i>".concat(c,"</i>")}),geometry:[e.latitude,e.longitude],onClick:L(e)},t);var c}))})})}),k&&Object(d.jsx)(b,{selectedSupports:o,selectedOrganizations:l,selectedStatuses:a,mappointid:S,setOpensidebar:_,selectedLanguage:c})]})},O=(c(6),c(3)),p=function(e,t){var c=function(c){e.current&&!e.current.contains(c.target)&&t()};Object(n.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}}))},m=function(e){var t=e.cities,a=e.selectedCities,i=e.setSelectedCities,r=e.selectedLanguage,u=Object(n.useState)(),o=Object(s.a)(u,2),l=(o[0],o[1]),j=Object(n.useState)(""),b=Object(s.a)(j,2),f=b[0],m=b[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),x=h[0],v=h[1],S=Object(n.useRef)();p(S,(function(){x&&v(!1)}));return Object(n.useEffect)((function(){m("arm"==r?"\u0540\u0561\u0574\u0561\u0575\u0576\u0584":"Community")})),Object(d.jsxs)("div",{className:"community",children:[Object(d.jsxs)("button",{className:"btnSupport",id:"btnSelect",onClick:function(){return v(!x)},children:[Object(d.jsx)("label",{className:"support",children:f}),Object(d.jsx)("img",{src:c(5).default,onClick:function(){return v(!x)}})]}),x&&Object(d.jsx)("div",{ref:S,className:"NestedSelect",children:Object(d.jsx)("div",{className:"list city",children:t.map((function(e){return Object(d.jsx)("li",{className:"li1",onClick:function(){return function(e){if(l(e),a.some((function(t){return t===e}))){var t=a.filter((function(t){return t!==e}));i(t)}else i([].concat(Object(O.a)(a),[e]))}(e.id)},style:{backgroundColor:a.some((function(t){return t===e.id}))?"#A4C2D8":"#FAFAFA"},children:e.name},e.id)}))})})]})},g=function(e){var t=e.selectedLanguage,a=e.setSelectedLanguage,i=Object(n.useState)(!1),r=Object(s.a)(i,2),u=r[0],o=r[1],l=Object(n.useRef)();p(l,(function(){u&&o(!1)}));var j=function(e){a(e),localStorage.setItem("lang",e)},b={};return Object(d.jsxs)("div",{className:"language",children:[Object(d.jsxs)("button",{className:"btnLng",onClick:function(){return o(!u)},children:["arm"==t?Object(d.jsx)("img",{src:c(20).default,className:"defaultImg",style:b}):Object(d.jsx)("img",{src:c(21).default,className:"defaultImg",style:b}),Object(d.jsx)("img",{className:"arr",src:c(5).default})]}),u&&Object(d.jsx)("div",{ref:l,className:"iconLng",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{className:"li4",onClick:function(){return j("arm")},children:Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:c(20).default,className:"flag"})})}),Object(d.jsx)("li",{className:"li4",onClick:function(){return j("en")},children:Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:c(21).default,className:"flag"})})})]})})]})},h=function(e){var t=e.statuses,a=e.selectedStatuses,i=e.setSelectedStatuses,r=e.selectedLanguage,u=Object(n.useState)(),o=Object(s.a)(u,2),l=(o[0],o[1]),j=Object(n.useState)(""),b=Object(s.a)(j,2),f=b[0],m=b[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),x=h[0],v=h[1],S=Object(n.useRef)();p(S,(function(){x&&v(!1)})),Object(n.useEffect)((function(){m("arm"==r?"\u054d\u057f\u0561\u057f\u0578\u0582\u057d":"Status")}));return Object(d.jsxs)("div",{className:"status",children:[Object(d.jsxs)("button",{className:"btnSupport",id:"btnSelect",onClick:function(){return v(!x)},children:[Object(d.jsx)("label",{className:"support",children:f}),Object(d.jsx)("img",{src:c(5).default,onClick:function(){return v(!x)}})]}),x&&Object(d.jsx)("div",{ref:S,className:"NestedStatus",children:Object(d.jsx)("div",{className:"statuses",children:t.map((function(e){return Object(d.jsx)("li",{className:"li2",onClick:function(){return function(e){if(l(e),a.some((function(t){return t===e}))){var t=a.filter((function(t){return t!==e}));a=t}else a.push(e);i(Object(O.a)(a))}(e.id)},style:{backgroundColor:a.some((function(t){return t===e.id}))?"#A4C2D8":"#FAFAFA"},children:e.status},e.id)}))})})]})},x=function(e){var t=e.supports,a=e.setSupports,i=e.selectedSupports,r=e.setSelectedSupports,u=e.selectedLanguage,o=Object(n.useState)([]),l=Object(s.a)(o,2),j=l[0],b=l[1],f=Object(n.useState)(!1),m=Object(s.a)(f,2),g=m[0],h=m[1],x=Object(n.useRef)();p(x,(function(){g&&h(!1)}));var v=function(e){if(j.some((function(t){return t===e}))){var t=j.findIndex((function(t){return t===e}));j.splice(t,1),b(Object(O.a)(j))}else j.push(e),b(Object(O.a)(j))};return Object(d.jsxs)("div",{className:"project_name",children:[Object(d.jsxs)("button",{className:"btnSupport",id:"btnSelect",onClick:function(){return h(!g)},children:[Object(d.jsx)("label",{className:"support",children:"arm"==u?"\u0548\u056c\u0578\u0580\u057f":"Sphere"}),Object(d.jsx)("img",{src:c(5).default,onClick:function(){return h(!g)}})]}),g&&Object(d.jsx)("div",{ref:x,className:"nested",children:t.map((function(e,s){return Object(d.jsx)("div",{className:"list3",children:Object(d.jsxs)("ul",{className:"ul3",children:[Object(d.jsx)("div",{className:"supportList",children:Object(d.jsx)("input",{type:"checkbox",id:"check",checked:e.active,className:"checkbox1",onChange:function(e){return function(e,c){var s=e.target.checked,n=t[c].items;if(s){for(var u=function(e){i.some((function(t){return t==n[e].supportid}))||i.push(n[e].supportid)},o=0;o<n.length;o++)u(o);r(Object(O.a)(i))}else{for(var l=i,d=function(e){var t=l.findIndex((function(t){return t==n[e].supportid}));t>=0&&l.splice(t,1)},j=0;j<n.length;j++)d(j);r(Object(O.a)(l))}t[c].active=!t[c].active,a(Object(O.a)(t))}(e,s)}})}),Object(d.jsxs)("label",{className:"category_name",onClick:function(t){return v(e.categoryid)},children:[e.category," (",e.items.length,")"]}),Object(d.jsx)("img",{className:"arrowSelect",src:c(5).default,onClick:function(t){return v(e.categoryid)}}),j.some((function(t){return t===e.categoryid}))?Object(d.jsx)("div",{className:"support_types",children:e.items.map((function(e,t){return Object(d.jsx)("li",{style:{backgroundColor:i.some((function(t){return t===e.supportid}))?"#A4C2D8":"#FAFAFA"},className:"li3",onClick:function(){return function(e){var t=i.filter((function(t){return t!=e}));t.length==i.length?(i.push(e),r(Object(O.a)(i))):r(Object(O.a)(t))}(e.supportid)},children:e.name},t)}))}):null]})},s)}))})]})},v=function(e){var t=e.organizations,a=e.selectedOrganizations,i=e.setSelectedOrganizations,r=e.selectedLanguage,u=Object(n.useState)(),o=Object(s.a)(u,2),l=(o[0],o[1]),j=Object(n.useState)(""),b=Object(s.a)(j,2),f=b[0],m=b[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),x=h[0],v=h[1],S=Object(n.useRef)();p(S,(function(){x&&v(!1)}));return Object(n.useEffect)((function(){m("arm"==r?"\u053f\u0561\u0566\u0574\u0561\u056f\u0565\u0580\u057a\u0578\u0582\u0569\u0575\u0578\u0582\u0576":"Organization")})),Object(d.jsxs)("div",{className:"community",children:[Object(d.jsxs)("button",{className:"btnOrganization",id:"btnSelect",onClick:function(){return v(!x)},children:[Object(d.jsx)("label",{className:"support",children:f}),Object(d.jsx)("img",{src:c(5).default,onClick:function(){return v(!x)}})]}),x&&Object(d.jsx)("div",{ref:S,className:"NestedSelect",children:Object(d.jsx)("div",{className:"list organization",children:t.map((function(e,t){return Object(d.jsx)("li",{className:"li1",onClick:function(){return function(e){if(l(e),a.some((function(t){return t===e}))){var t=a.filter((function(t){return t!==e}));i(t)}else i([].concat(Object(O.a)(a),[e]))}(e.id)},style:{backgroundColor:a.some((function(t){return t===e.id}))?"#A4C2D8":"#FAFAFA"},children:e.name},t)}))})})]})},S=function(e){var t=e.setInfo,c=Object(n.useState)([]),a=Object(s.a)(c,2),i=a[0],r=a[1],u=Object(n.useState)([]),o=Object(s.a)(u,2),l=o[0],j=o[1],b=Object(n.useState)([]),O=Object(s.a)(b,2),p=O[0],S=O[1],N=Object(n.useState)([]),y=Object(s.a)(N,2),C=y[0],k=y[1],_=Object(n.useState)([]),L=Object(s.a)(_,2),z=L[0],w=L[1],A=Object(n.useState)([]),F=Object(s.a)(A,2),E=F[0],I=F[1],T=Object(n.useState)([]),J=Object(s.a)(T,2),P=J[0],R=J[1],D=Object(n.useState)([]),W=Object(s.a)(D,2),q=W[0],B=W[1],U=Object(n.useState)([]),G=Object(s.a)(U,2),H=G[0],K=G[1],M=Object(n.useState)(localStorage.getItem("lang")),Q=Object(s.a)(M,2),V=Q[0],X=Q[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("lang");e?X(e):localStorage.setItem("lang","arm")}),[]),Object(n.useEffect)((function(){fetch("/api/filterEng",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communityid:l,statusid:z,supportid:P,organizationid:H})}).then((function(e){return e.json()})).then((function(e){S(e.data)}))}),[l,z,P,H]),Object(n.useEffect)((function(){fetch("/api/communities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:V})}).then((function(e){return e.json()})).then((function(e){r(e.data)})),fetch("/api/statuses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:V})}).then((function(e){return e.json()})).then((function(e){k(e.data)})).catch((function(e){console.log(e)})),fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:V})}).then((function(e){return e.json()})).then((function(e){B(e.data)})),fetch("/api/supportsList",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:V})}).then((function(e){return e.json()})).then((function(e){var t=e.data;t.forEach((function(e){e.active=!1})),I(t)})).catch((function(e){console.log(e)}))}),[V]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(d.jsx)(f,{selectedSupports:P,selectedStatuses:z,coordinates:p,setInfo:t,selectedLanguage:V,selectedOrganizations:H}),Object(d.jsxs)("div",{className:"filters",children:[Object(d.jsx)(m,{selectedCities:l,setSelectedCities:j,cities:i,selectedLanguage:V}),Object(d.jsx)(x,{selectedSupports:P,setSelectedSupports:R,supports:E,setSupports:I,selectedLanguage:V}),Object(d.jsx)(h,{selectedStatuses:z,setSelectedStatuses:w,statuses:C,selectedLanguage:V}),Object(d.jsx)(v,{selectedOrganizations:H,setSelectedOrganizations:K,organizations:q,selectedLanguage:V}),Object(d.jsx)(g,{selectedLanguage:V,setSelectedLanguage:X})]})]})})};var N=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=(t[0],t[1]);return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(S,{setInfo:c})})},y=c(24),C=c.n(y),k=document.getElementById("root");C.a.render(Object(d.jsx)(N,{}),k)}},[[60,1,2]]]);
//# sourceMappingURL=main.42f6ba37.chunk.js.map